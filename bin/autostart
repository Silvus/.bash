#!/usr/bin/env bash

function run {
	if ! pgrep $1;	then
		$@ &
	fi
}

run nm-applet
# run guake -r tmux -e tmuxdev

if [[ $(hostname --short) == "somnus" ]]; then
	run redshift-gtk -b1.0:0.2
else
	run redshift-gtk
fi

run dropbox start

if [[ $GDMSESSION == 'i3' ]]; then
	run feh --bg-fill --randomize ~/.dotfiles/wallpaper/* --bg-fill --randomize ~/.dotfiles/wallpaper/* &
fi

# Environment specific configuration
# ------------------------------------------------------
if [[ $(hostname --short) == "mars" ]]; then
	run firefox
	# Dual screens configuration
	xrandr --output HDMI-1 --mode 1920x1080 --pos 0x1080 --rotate normal --output DP-2 --primary --mode 3840x2160 --pos 1920x0 --rotate normal
	# xrandr --output DP-2 --primary --auto --output HDMI-1 --left-of DP-2 --off
fi
