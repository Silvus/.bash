#!/usr/bin/env bash

# Run in background if not already started
# ------------------------------------------------------
function run {
	if ! pgrep $1;	then
		$@ &
	fi
}

# Keyboard config
# ------------------------------------------------------
setxkbmap -model pc105 -layout fr,us -variant oss

# Auto start progs
# ------------------------------------------------------
# Network applet
if [[ -x $(which nm-applet) ]]; then
	run nm-applet
fi

run redshift-gtk

# Bluetooth applet if installed
# if [[ -x $(which blueman-applet) ]]; then
# 	run blueman-applet
# fi

# Environment specific configuration
# ------------------------------------------------------
if [[ $(hostname --short) == "mars" || $(hostname --short) == "helios" || $(hostname --short) == "orcus" ]]; then
	run firefox
	# run thunderbird
fi

if [[ -f "$HOME/.dotfiles_custom/autostart" ]]; then
	source "$HOME/.dotfiles_custom/autostart"
fi
