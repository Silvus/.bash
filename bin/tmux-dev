#!/usr/bin/env bash

# Launch tmux
# -----------------------------------------------------------------------------
if [[ -f "/usr/bin/tmux" ]]; then
	SESSION=$USER

	#  Launch session
	tmux -2 new-session -d -s $SESSION

	# Setup a window
	tmux new-window -t $SESSION:1 -n 'Dev'
	# Split horizontaly
	# tmux split-window -h
	# Select panel
	# tmux select-pane -t 1
	# Name doesn't stay ? !
	tmux rename-window 'Dev'
	# Lauch command
	# tmux send-keys "tail -f /var/log" C-m
	# tmux new-window -t hawkhost:1 -n 'Server1' 'ssh root@10.x.x.x'

	# Setup a window
	tmux new-window -t $SESSION:2 -n 'SysOps'
	# Split horizontaly
	# tmux split-window -h
	# Select panel
	# tmux select-pane -t 1

	# Setup a Postgres window
	# tmux new-window -t $SESSION:3 -n 'Postgres' 'psql -U postgres'

	# Set default window
	tmux select-window -t $SESSION:1

	# Attach to session
	tmux -2 attach-session -d
else
	echo "Tmux is not installed"
fi
